<!--
    Dashboard Analytics ROHANA - Versi칩n Embebible
    Para integrar en una p치gina existente

    DEPENDENCIAS REQUERIDAS:
    1. Chart.js 4.4.0 (CDN incluido abajo)
    2. dashboard_styles.css (archivo incluido)
    3. dashboard_script.js (archivo incluido al final)
-->

<!-- Dependencia: Chart.js -->
<script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.0/dist/chart.umd.min.js"></script>

<!-- Estilos del Dashboard -->
<link rel="stylesheet" href="dashboard_styles.css">

<div id="rohana-dashboard">
    <div class="container">
        <section class="metrics-grid">
            <div class="metric-card">
                <div class="metric-label">Total Conversaciones</div>
                <div class="metric-value">14,439</div>
                <div class="metric-detail">Jun - Oct 2025</div>
            </div>
            <div class="metric-card">
                <div class="metric-label">Total Ventas</div>
                <div class="metric-value">3,879</div>
                <div class="metric-detail">Dic 2024 - Ago 2025</div>
            </div>
            <div class="metric-card">
                <div class="metric-label">Ingresos Totales</div>
                <div class="metric-value">$340.1M</div>
                <div class="metric-detail">ARS acumulado</div>
            </div>
            <div class="metric-card">
                <div class="metric-label">Mejora Post-Agente</div>
                <div class="metric-value">+79%</div>
                <div class="metric-detail">Incremento en ventas</div>
            </div>
        </section>

        <section class="chart-section">
            <div class="chart-header">
                <h2 class="chart-title">Correlaci칩n: Conversaciones del Agente vs Ventas e Ingresos</h2>
                <p class="chart-description">
                    Hist칩rico mensual mostrando c칩mo las conversaciones del agente (barras azules) se correlacionan directamente
                    con el aumento de ventas (l칤nea p칰rpura) e ingresos (l칤nea verde). A mayor actividad del agente, mayores resultados comerciales.
                </p>
            </div>
            <div class="chart-container">
                <canvas id="timelineChart"></canvas>
            </div>
        </section>

        <section class="chart-section">
            <div class="chart-header">
                <h2 class="chart-title">An치lisis de ROI (Retorno de Inversi칩n)</h2>
                <p class="chart-description">
                    Impacto financiero del agente conversacional ROHANA comparando ganancias proyectadas vs reales.
                </p>
            </div>
            <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)); gap: 1.5rem; margin-top: 1.5rem;">
                <div class="metric-card" style="background: var(--bg-card); border: 1px solid var(--border); border-radius: 12px; padding: 1.5rem;">
                    <div class="metric-label" style="color: var(--text-muted); font-size: 0.875rem; text-transform: uppercase; letter-spacing: 0.05em; margin-bottom: 0.5rem;">游늵 Ganancia Proyectada</div>
                    <div class="metric-value" style="font-size: 2rem; font-weight: 700; color: #3b82f6;" id="roiGananciaProyectada">$22.9M</div>
                    <div class="metric-detail" style="color: var(--text-muted); font-size: 0.875rem; margin-top: 0.5rem;">Sin agente (org치nico)</div>
                </div>
                <div class="metric-card" style="background: var(--bg-card); border: 1px solid var(--border); border-radius: 12px; padding: 1.5rem;">
                    <div class="metric-label" style="color: var(--text-muted); font-size: 0.875rem; text-transform: uppercase; letter-spacing: 0.05em; margin-bottom: 0.5rem;">游눳 Ganancia Real</div>
                    <div class="metric-value" style="font-size: 2rem; font-weight: 700; color: #10b981;" id="roiGananciaReal">$55.9M</div>
                    <div class="metric-detail" style="color: var(--text-muted); font-size: 0.875rem; margin-top: 0.5rem;">Con agente (Jun-Jul 2025)</div>
                </div>
                <div class="metric-card" style="background: linear-gradient(135deg, #10b981, #059669); border: 1px solid rgba(16, 185, 129, 0.3); border-radius: 12px; padding: 1.5rem;">
                    <div class="metric-label" style="color: rgba(255,255,255,0.9); font-size: 0.875rem; text-transform: uppercase; letter-spacing: 0.05em; margin-bottom: 0.5rem;">游눯 ROI</div>
                    <div class="metric-value" style="font-size: 2rem; font-weight: 700; color: white;" id="roiPercentage">560%</div>
                    <div class="metric-detail" style="color: rgba(255,255,255,0.9); font-size: 0.875rem; margin-top: 0.5rem;">+<span id="roiBeneficioNeto">$28.0M</span> beneficio</div>
                </div>
            </div>
        </section>

        <section class="chart-section">
            <div class="chart-header">
                <h2 class="chart-title">Impacto del Agente: Crecimiento Org치nico vs Real</h2>
                <p class="chart-description">
                    Comparaci칩n entre la proyecci칩n de crecimiento org치nico del negocio (l칤nea punteada azul) y el crecimiento real con el agente (l칤nea s칩lida verde).
                    El 치rea sombreada en verde representa el retorno incremental atribuible directamente al agente.
                </p>
            </div>
            <div class="chart-container">
                <canvas id="growthComparisonChart"></canvas>
            </div>
        </section>

        <section class="chart-section">
            <div class="chart-header">
                <h2 class="chart-title">Distribuci칩n Horaria: Conversaciones vs Ventas (24 horas)</h2>
                <p class="chart-description">
                    Comparaci칩n del volumen de conversaciones y ventas ANTES (l칤nea roja punteada) y DESPU칄S (l칤nea verde s칩lida) del agente durante las 24 horas del d칤a.
                    La zona sombreada (9h-18h) representa el horario laboral tradicional. Note el incremento significativo en horarios no laborables.
                </p>
            </div>
            <div class="chart-container">
                <canvas id="hourlyDistributionChart"></canvas>
            </div>
        </section>

        <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(600px, 1fr)); gap: 2rem; margin-bottom: 2rem;">
            <section class="chart-section" style="margin-bottom: 0;">
                <div class="chart-header">
                    <h2 class="chart-title">Mapa de Calor: Ventas DESPU칄S del Agente</h2>
                    <p class="chart-description">
                        Distribuci칩n de ventas por d칤a y hora despu칠s del agente (desde 6 jun 2025).
                        Azul = sin ventas, Rojo intenso = alto volumen.
                    </p>
                </div>
                <div class="heatmap-container">
                    <div id="heatmapAfterWeek"></div>
                    <div class="legend">
                        <div class="legend-item">
                            <span style="color: var(--text-muted);">Intensidad:</span>
                            <div>
                                <div class="legend-gradient" style="background: linear-gradient(to right, #1e3a8a, #3b82f6, #fbbf24, #f97316, #dc2626)"></div>
                                <div class="legend-labels">
                                    <span>Sin ventas</span>
                                    <span>Alto volumen</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <section class="chart-section" style="margin-bottom: 0;">
                <div class="chart-header">
                    <h2 class="chart-title">Mapa de Calor: Conversaciones del Agente</h2>
                    <p class="chart-description">
                        Distribuci칩n de conversaciones por d칤a y hora desde la implementaci칩n.
                        Azul = baja actividad, Rojo intenso = alta actividad.
                    </p>
                </div>
                <div class="heatmap-container">
                    <div id="heatmapConversations"></div>
                    <div class="legend">
                        <div class="legend-item">
                            <span style="color: var(--text-muted);">Actividad:</span>
                            <div>
                                <div class="legend-gradient" style="background: linear-gradient(to right, #1e3a8a, #3b82f6, #fbbf24, #f97316, #dc2626)"></div>
                                <div class="legend-labels">
                                    <span>Baja</span>
                                    <span>Alta</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </section>
        </div>
    </div>
</div>

<script src="dashboard_script.js"></script>
